{"ast":null,"code":"import _objectSpread from\"F:/website 2020/Ecom-in-React/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"F:/website 2020/Ecom-in-React/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"F:/website 2020/Ecom-in-React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/website 2020/Ecom-in-React/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\website 2020\\\\Ecom-in-React\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from\"react\";import Navbar from\"../navbar/Navbar\";import{FaStar}from\"react-icons/fa\";import{Card}from\"../Card/Card\";//  import { products } from \"../../backend/db/products\";\nimport{useState,useEffect,useContext}from\"react\";import axios from'axios';import{ProductPageContext}from\"./productPageContext\";import{CartContext}from\"../cartPage/cartContext\";import{WishListContext}from\"../../context/wishlistContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Product=function Product(){var _useContext=useContext(ProductPageContext),sort=_useContext.sort,setSort=_useContext.setSort,rating=_useContext.rating,setRating=_useContext.setRating,priceRange=_useContext.priceRange,setPriceRange=_useContext.setPriceRange,categoryName=_useContext.categoryName,setcategoryName=_useContext.setcategoryName;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),key=_useState2[0],setKey=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productListing=_useState4[0],setProductListing=_useState4[1];var _useContext2=useContext(CartContext),_addToCart=_useContext2.addToCart,cart=_useContext2.cart;var _useContext3=useContext(WishListContext),_addToWishList=_useContext3.addToWishList,wishList=_useContext3.wishList,setwishList=_useContext3.setwishList;function clearFitlters(){setSort(true);setRating(false);setPriceRange(1500);setcategoryName({allProducts:true,Shirt:false,hoodie:false,denim:false,watch:false});console.log(\"clicked\");setKey(key+1);}useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"api/products\");case 2:response=_context.sent;console.log(response.data);if(response.status===200){setProductListing(response.data.products);}case 5:case\"end\":return _context.stop();}}},_callee);}))();},[]);var sortFunction=function sortFunction(productListing,sort){var sortedProductListing=_toConsumableArray(productListing);if(sort){return sortedProductListing.sort(function(a,b){return a.price.discounted-b.price.discounted;});}else{return sortedProductListing.sort(function(a,b){return b.price.discounted-a.price.discounted;});}};console.log(sort);var sortedData=sortFunction(productListing,sort);var ratingFunction=function ratingFunction(productListing,rating){var sortedProductListing=_toConsumableArray(productListing);if(rating){return sortedProductListing.filter(function(product){return product.rating>=rating;});}else{return sortedProductListing;}};var filteredData=ratingFunction(sortedData,rating);var priceRangeFunction=function priceRangeFunction(productListing,priceRange){var sortedProductListing=_toConsumableArray(productListing);if(priceRange){return sortedProductListing.filter(function(product){return Number(product.price.discounted)<=Number(priceRange);});}else{return sortedProductListing;}};var filteredPriceData=priceRangeFunction(filteredData,priceRange);var categoryNameFunction=function categoryNameFunction(productListing,categoryName){var sortedProductListing=_toConsumableArray(productListing);if(categoryName.allProducts){return sortedProductListing;}if(categoryName.Shirt){return sortedProductListing.filter(function(product){return product.categoryName===\"Shirt\";});}if(categoryName.hoodie){return sortedProductListing.filter(function(product){return product.categoryName===\"hoodie\";});}if(categoryName.denim){return sortedProductListing.filter(function(product){return product.categoryName===\"denim\";});}if(categoryName.watch){return sortedProductListing.filter(function(product){return product.categoryName===\"watch\";});}return sortedProductListing;};var filteredcategoryNameData=categoryNameFunction(filteredPriceData,categoryName);console.log(productListing);useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/api/products');case 2:response=_context2.sent;if(response.status===200){setProductListing(response.data.products);}case 4:case\"end\":return _context2.stop();}}},_callee2);}))();},[]);console.log(\"click\",productListing);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"aside-bar-main-content warapper\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"aside-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"aside-section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"aside-section-title\",children:\"Filters\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"clear-btn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"\\r btn-login\",onClick:clearFitlters,children:\"Clear All \"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"aside-section-title-md\",children:\"Price Range\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"range-input-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"price-label\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",\" 500\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",\" 1000\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",\" 1500\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",\" 2000\"]})]}),/*#__PURE__*/_jsx(\"label\",{className:\"slider\",htmlFor:\"volume\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input-range\",onChange:function onChange(e){setPriceRange(e.target.value);},type:\"range\",min:\"500\",max:\"2500\",value:priceRange,id:\"volume\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-section-aside\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"aside-section-title-md\",children:\"Categories\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){setcategoryName(_objectSpread(_objectSpread({},categoryName),{},{allProducts:e.target.checked}));},name:\"check\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"check\",children:\"All fashion\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){setcategoryName(_objectSpread(_objectSpread({},categoryName),{},{Shirt:e.target.checked}));},name:\"check\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"check\",children:\" Shirt\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){setcategoryName(_objectSpread(_objectSpread({},categoryName),{},{hoodie:e.target.checked}));},name:\"check\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"check\",children:\" Hoodies\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){setcategoryName(_objectSpread(_objectSpread({},categoryName),{},{denim:e.target.checked}));},name:\"check\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"check\",children:\" Denim\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){setcategoryName(_objectSpread(_objectSpread({},categoryName),{},{watch:e.target.checked}));},name:\"check\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"check\",children:\" Watch\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rating-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"aside-section-title-md\",children:\"Rating\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",onChange:function onChange(e){setRating(4);},value:\"4\",name:\"radio\",className:\"radio\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"radio\",children:[\" 4 \",/*#__PURE__*/_jsx(FaStar,{className:\"fa fa-star\",style:{color:\"orange\"}}),\" & above\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",onChange:function onChange(e){setRating(3);},value:\"3\",name:\"radio\",className:\"radio\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"radio\",children:[\" 3 \",/*#__PURE__*/_jsx(FaStar,{className:\"fa fa-star\",style:{color:\"orange\"}}),\" & above\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",onChange:function onChange(e){setRating(2);},value:\"2\",name:\"radio\",className:\"radio\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"radio\",children:[\" 2 \",/*#__PURE__*/_jsx(FaStar,{className:\"fa fa-star\",style:{color:\"orange\"}}),\" & above\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",onChange:function onChange(e){setRating(1);},value:\"1\",name:\"radio\",className:\"radio\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"radio\",children:[\" 1 \",/*#__PURE__*/_jsx(FaStar,{className:\"fa fa-star\",style:{color:\"orange\"}}),\" & above\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rating-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"aside-section-title-md\",children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-input\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSort(true);},type:\"radio\",name:\"sortby\",className:\"radio\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"radio\",children:\" Low to High\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-input\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setSort(false);},type:\"radio\",name:\"sortby\",className:\"radio\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"radio\",children:\" High to Low\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"products\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"content-heading\",children:\"Showing All Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-row flex-wrap\",children:filteredcategoryNameData.map(function(product){return/*#__PURE__*/_jsx(Card,{product:product,addToCart:function addToCart(){return _addToCart(product,product._id);},addToWishList:function addToWishList(){return _addToWishList(product,setwishList);}},product._id);})})]})]},key)]});};export{Product};","map":{"version":3,"sources":["F:/website 2020/Ecom-in-React/src/components/Product/Product.js"],"names":["React","Navbar","FaStar","Card","useState","useEffect","useContext","axios","ProductPageContext","CartContext","WishListContext","Product","sort","setSort","rating","setRating","priceRange","setPriceRange","categoryName","setcategoryName","key","setKey","productListing","setProductListing","addToCart","cart","addToWishList","wishList","setwishList","clearFitlters","allProducts","Shirt","hoodie","denim","watch","console","log","get","response","data","status","products","sortFunction","sortedProductListing","a","b","price","discounted","sortedData","ratingFunction","filter","product","filteredData","priceRangeFunction","Number","filteredPriceData","categoryNameFunction","filteredcategoryNameData","e","target","value","checked","color","map","_id"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Navbar from \"../navbar/Navbar\";\r\nimport { FaStar } from \"react-icons/fa\";\r\nimport { Card } from \"../Card/Card\";\r\n//  import { products } from \"../../backend/db/products\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport axios from 'axios';\r\nimport { ProductPageContext } from \"./productPageContext\";\r\nimport { CartContext } from \"../cartPage/cartContext\";\r\nimport { WishListContext } from \"../../context/wishlistContext\";\r\n\r\n\r\n\r\nconst Product = () => {\r\n    const { sort, setSort, rating, setRating, priceRange, setPriceRange, categoryName, setcategoryName } = useContext(ProductPageContext);\r\n    const [key, setKey] = useState(0); \r\n    const [productListing, setProductListing] = useState([]);\r\n    const { addToCart, cart } = useContext(CartContext);\r\n    const { addToWishList, wishList ,setwishList} = useContext(WishListContext);\r\n\r\n    \r\n    \r\n    function clearFitlters() {\r\n        setSort(true);\r\n        setRating(false);\r\n        setPriceRange(1500);\r\n        setcategoryName({ allProducts: true, Shirt: false, hoodie: false, denim: false, watch: false, });\r\n        console.log(\"clicked\");\r\n        setKey(key + 1);\r\n    }\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const response = await axios.get(`api/products`);\r\n            console.log(response.data);\r\n            if (response.status === 200) {\r\n                setProductListing(response.data.products);\r\n            }\r\n        })();\r\n    },[]);\r\n \r\n    const sortFunction = (productListing, sort) => {\r\n        const sortedProductListing = [...productListing]\r\n        if (sort) {\r\n            return sortedProductListing.sort((a, b) => a.price.discounted - b.price.discounted);\r\n          \r\n        }\r\n            else {\r\n            return sortedProductListing.sort((a, b) => b.price.discounted - a.price.discounted);\r\n            \r\n        }\r\n    }\r\n    console.log(sort);\r\n\r\n    const sortedData = sortFunction(productListing, sort);\r\n\r\n    const ratingFunction = (productListing , rating) => {\r\n        const sortedProductListing = [...productListing];\r\n        if (rating) {\r\n            return sortedProductListing.filter(product => product.rating >= rating);\r\n\r\n        }\r\n        else {\r\n            return sortedProductListing;\r\n        }\r\n    }\r\n    \r\n   \r\n    const filteredData = ratingFunction(sortedData, rating);\r\n    \r\n\r\n        const priceRangeFunction = (productListing, priceRange) => {\r\n            const sortedProductListing = [...productListing];\r\n            if (priceRange) {\r\n                return sortedProductListing.filter(product => Number(product.price.discounted) <= Number(priceRange));\r\n            }\r\n            else {\r\n                return sortedProductListing;\r\n            }\r\n    }\r\n    const filteredPriceData = priceRangeFunction(filteredData, priceRange);\r\n   \r\n    const categoryNameFunction = (productListing, categoryName) => {\r\n        const sortedProductListing = [...productListing];\r\n        if (categoryName.allProducts) {\r\n            return sortedProductListing;\r\n        }\r\n        if (categoryName.Shirt) {\r\n            return sortedProductListing.filter(product => product.categoryName === \"Shirt\");\r\n        }\r\n        if (categoryName.hoodie) {\r\n            return sortedProductListing.filter(product => product.categoryName === \"hoodie\");\r\n        }\r\n        if (categoryName.denim) {\r\n            return sortedProductListing.filter(product => product.categoryName === \"denim\");\r\n        }\r\n        if (categoryName.watch) {\r\n            return sortedProductListing.filter(product => product.categoryName === \"watch\");\r\n        }\r\n        return sortedProductListing;\r\n    }\r\n      const filteredcategoryNameData = categoryNameFunction(filteredPriceData, categoryName);\r\n\r\n\r\n\r\n    \r\n  \r\n    console.log(productListing);\r\n    useEffect(() => {  \r\n    (async ()=>{\r\n        const response = await axios.get('/api/products');\r\n       if(response.status === 200){\r\n           setProductListing(response.data.products);\r\n       }\r\n    })();\r\n    }, [])\r\n    console.log(\"click\",productListing);\r\n  \r\n\r\n    return (\r\n        <>\r\n            <Navbar/>\r\n         \r\n      {/* ...........aside-bar........... */} \r\n        <div className=\"aside-bar-main-content warapper\" key={key}> \r\n      <aside className=\"aside-section\">\r\n            <div className=\"aside-section-header\">\r\n                <h3 className=\"aside-section-title\">Filters</h3>\r\n                        <a href=\"#\" className=\"clear-btn\"><button className=\"\r\n                btn-login\" onClick={clearFitlters}>Clear All </button></a>\r\n            </div>\r\n\r\n            <div className=\"price-section\">\r\n                <h3 className=\"aside-section-title-md\">Price Range</h3>\r\n\r\n               \r\n                <div className=\"range-input-container\">\r\n                    \r\n                    <div className=\"price-label\">\r\n                        <p>{'\\u20B9'} 500</p>\r\n                        <p>{'\\u20B9'} 1000</p>\r\n                        <p>{'\\u20B9'} 1500</p>\r\n                        <p>{'\\u20B9'} 2000</p>\r\n                    </div>\r\n                    <label className=\"slider\" htmlFor=\"volume\">\r\n                        <input className=\"input-range\"\r\n                        onChange={(e) => {setPriceRange(e.target.value)}}\r\n                                    type=\"range\" min=\"500\" max=\"2500\" \r\n                                    value={priceRange} id=\"volume\" /></label>\r\n                \r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"category-section-aside\">\r\n                <h3 className=\"aside-section-title-md\">Categories</h3>\r\n                <div className=\"checkbox-input\">\r\n                            <input type=\"checkbox\" \r\n                                onChange={(e) => {setcategoryName({...categoryName, allProducts: e.target.checked})}}\r\n                    name=\"check\" className=\"checkbox\"  />\r\n                    <label htmlFor=\"check\">All fashion</label>\r\n                </div>\r\n               \r\n                <div className=\"checkbox-input\">\r\n                            <input type=\"checkbox\"\r\n                                onChange={(e) => {setcategoryName({...categoryName, Shirt: e.target.checked})}}\r\n                     name=\"check\" className=\"checkbox\" /><label htmlFor=\"check\"> Shirt\r\n                             </label>\r\n                </div>\r\n\r\n                <div className=\"checkbox-input\">\r\n                            <input type=\"checkbox\"\r\n                                onChange={(e) => {setcategoryName({...categoryName, hoodie: e.target.checked})}}\r\n                     name=\"check\" className=\"checkbox\" /><label htmlFor=\"check\"> Hoodies</label>\r\n                </div>\r\n                \r\n                <div className=\"checkbox-input\">\r\n                            <input type=\"checkbox\" \r\n                                onChange={(e) => {setcategoryName({...categoryName, denim: e.target.checked})}}\r\n                    name=\"check\" className=\"checkbox\" /><label htmlFor=\"check\"> Denim</label>\r\n                </div>\r\n\r\n                <div className=\"checkbox-input\">\r\n                            <input type=\"checkbox\"\r\n                            onChange={(e) => {setcategoryName({...categoryName, watch: e.target.checked})}}\r\n                     name=\"check\" className=\"checkbox\" /><label htmlFor=\"check\"> Watch</label>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"rating-section\">\r\n                <h3 className=\"aside-section-title-md\">Rating</h3>\r\n\r\n                        <div className=\"radio-input\">\r\n                            \r\n                            <input type=\"radio\"\r\n                                onChange={(e) => {setRating(4)}}\r\n                   \r\n                    value=\"4\"\r\n                 \r\n                                name=\"radio\" className=\"radio\" /><label htmlFor=\"radio\"> 4 <FaStar className=\"fa fa-star\"\r\n                               \r\n                            style={{color: \"orange\"}}></FaStar> & above</label>\r\n                </div>\r\n\r\n                <div className=\"radio-input\">\r\n                            <input type=\"radio\" \r\n                                onChange={(e) => {setRating(3)}}\r\n                   \r\n                    value=\"3\"\r\n                    \r\n                                name=\"radio\" className=\"radio\" /><label htmlFor=\"radio\"> 3 <FaStar className=\"fa fa-star\"\r\n                                \r\n                            style={{color: \"orange\"}}></FaStar> & above</label>\r\n                </div>\r\n\r\n                <div className=\"radio-input\">\r\n                            <input type=\"radio\" \r\n                                onChange={(e) => {setRating(2)}}\r\n               \r\n                    value=\"2\" \r\n                 \r\n                                name=\"radio\" className=\"radio\" /><label htmlFor=\"radio\"> 2 <FaStar className=\"fa fa-star\"\r\n                                \r\n                            style={{color: \"orange\"}}></FaStar> & above</label>\r\n                </div>\r\n\r\n                <div className=\"radio-input\">\r\n                            <input type=\"radio\" \r\n                                onChange={(e) => {setRating(1)}}\r\n                  \r\n                    value=\"1\"\r\n                   \r\n                                name=\"radio\" className=\"radio\" /><label htmlFor=\"radio\"> 1 <FaStar className=\"fa fa-star\"\r\n                                \r\n                            style={{color: \"orange\"}}></FaStar> & above</label>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"rating-section\">\r\n                <h3 className=\"aside-section-title-md\">Sort By</h3>\r\n\r\n                <div className=\"radio-input\">\r\n                    <input  onChange={(e)=>setSort(true)}\r\n                    \r\n                             type=\"radio\" name=\"sortby\" className=\"radio\" /><label htmlFor=\"radio\"> Low to High</label>\r\n                            \r\n                </div>\r\n\r\n                <div className=\"radio-input\">\r\n                            <input onChange={(e)=>setSort(false)}\r\n                               \r\n                    type=\"radio\" name=\"sortby\" className=\"radio\" /><label htmlFor=\"radio\"> High to Low</label>\r\n                </div>\r\n            </div>\r\n\r\n        </aside>\r\n \r\n       {/* ...........main content........... */}\r\n        \r\n                <section className=\"products\">\r\n                    <h1 className=\"content-heading\">Showing All Products</h1>\r\n            \r\n                    <div className=\"flex-row flex-wrap\">\r\n                        \r\n                        {/* {productListing.map(product => (<Card key={product._id} product={product}/>))} */}\r\n                        {filteredcategoryNameData.map(product => (<Card key={product._id} product={product}\r\n                            addToCart={() => addToCart(product, product._id)}\r\n                            addToWishList={() => addToWishList (product,setwishList)}\r\n                        />))}\r\n                      \r\n                    \r\n                </div>\r\n        </section>\r\n    </div>\r\n   </> )\r\n};\r\nexport {Product};"]},"metadata":{},"sourceType":"module"}